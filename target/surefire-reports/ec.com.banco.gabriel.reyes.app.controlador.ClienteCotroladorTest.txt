-------------------------------------------------------------------------------
Test set: ec.com.banco.gabriel.reyes.app.controlador.ClienteCotroladorTest
-------------------------------------------------------------------------------
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 2.194 s <<< FAILURE! - in ec.com.banco.gabriel.reyes.app.controlador.ClienteCotroladorTest
deberiaBuscarClientePorCodigo  Time elapsed: 0 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoControlador': Unsatisfied dependency expressed through field 'movimientoServicio'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoServicioImpl': Unsatisfied dependency expressed through field 'movimientoRepositorio'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoServicioImpl': Unsatisfied dependency expressed through field 'movimientoRepositorio'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto]. Expected arguments are: java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.math.BigDecimal, java.lang.String, java.math.BigDecimal, java.math.BigDecimal [ SELECT new ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto(mo.fechaMovimiento, mo.cuenta.cliente.nombre,  mo.cuenta.numeroCuenta, mo.cuenta.tipoCuenta, mo.cuenta.saldoInicial, mo.cuenta.estado, mo.valor, mo.saldo) FROM ec.com.banco.gabriel.reyes.app.modelo.Movimiento mo  WHERE mo.fechaMovimiento BETWEEN :fechaDesde AND :fechaHasta  AND mo.cuenta.cliente.identificacion = :identificacion ]
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto]. Expected arguments are: java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.math.BigDecimal, java.lang.String, java.math.BigDecimal, java.math.BigDecimal [ SELECT new ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto(mo.fechaMovimiento, mo.cuenta.cliente.nombre,  mo.cuenta.numeroCuenta, mo.cuenta.tipoCuenta, mo.cuenta.saldoInicial, mo.cuenta.estado, mo.valor, mo.saldo) FROM ec.com.banco.gabriel.reyes.app.modelo.Movimiento mo  WHERE mo.fechaMovimiento BETWEEN :fechaDesde AND :fechaHasta  AND mo.cuenta.cliente.identificacion = :identificacion ]

deberiaGuardarCliente  Time elapsed: 0.001 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoControlador': Unsatisfied dependency expressed through field 'movimientoServicio'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoServicioImpl': Unsatisfied dependency expressed through field 'movimientoRepositorio'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'movimientoServicioImpl': Unsatisfied dependency expressed through field 'movimientoRepositorio'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movimientoRepositorio' defined in ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional ec.com.banco.gabriel.reyes.app.repositorio.MovimientoRepositorio.obtenerEstadoCuenta(java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto]. Expected arguments are: java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.math.BigDecimal, java.lang.String, java.math.BigDecimal, java.math.BigDecimal [ SELECT new ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto(mo.fechaMovimiento, mo.cuenta.cliente.nombre,  mo.cuenta.numeroCuenta, mo.cuenta.tipoCuenta, mo.cuenta.saldoInicial, mo.cuenta.estado, mo.valor, mo.saldo) FROM ec.com.banco.gabriel.reyes.app.modelo.Movimiento mo  WHERE mo.fechaMovimiento BETWEEN :fechaDesde AND :fechaHasta  AND mo.cuenta.cliente.identificacion = :identificacion ]
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto]. Expected arguments are: java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.math.BigDecimal, java.lang.String, java.math.BigDecimal, java.math.BigDecimal [ SELECT new ec.com.banco.gabriel.reyes.app.dto.EstadoCuentaDto(mo.fechaMovimiento, mo.cuenta.cliente.nombre,  mo.cuenta.numeroCuenta, mo.cuenta.tipoCuenta, mo.cuenta.saldoInicial, mo.cuenta.estado, mo.valor, mo.saldo) FROM ec.com.banco.gabriel.reyes.app.modelo.Movimiento mo  WHERE mo.fechaMovimiento BETWEEN :fechaDesde AND :fechaHasta  AND mo.cuenta.cliente.identificacion = :identificacion ]

